<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Planetary Force Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: radial-gradient(circle at top, #0b1d3a, #000);
      color: #fff;
      text-align: center;
      margin: 0;
      padding: 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
    }

    .formula {
      font-size: 1.5em;
      margin: 20px 0;
      color: #ffd700;
    }

    .planets-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 20px;
      margin: 40px 0;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .planet {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      box-shadow: 0 0 15px rgba(255,255,255,0.3);
      transition: transform 0.2s, box-shadow 0.2s;
      margin: 0 auto;
      position: relative;
    }

    .planet:hover {
      transform: scale(1.1);
      box-shadow: 0 0 25px rgba(255,255,255,0.6);
    }

    .planet.selected {
      transform: scale(1.15);
      box-shadow: 0 0 30px #ffd700;
      border: 3px solid #ffd700;
    }

    .earth { background: linear-gradient(45deg, #2e86de, #54a0ff); }
    .moon { background: linear-gradient(45deg, #b2bec3, #ddd); color: #000; }
    .mars { background: linear-gradient(45deg, #c0392b, #e74c3c); }
    .jupiter { background: linear-gradient(45deg, #d35400, #f39c12); }
    .venus { background: linear-gradient(45deg, #f1c40f, #f39c12); color: #000; }
    .saturn { background: linear-gradient(45deg, #8e44ad, #9b59b6); }
    .mercury { background: linear-gradient(45deg, #7f8c8d, #95a5a6); }
    .neptune { background: linear-gradient(45deg, #2980b9, #3498db); }

    .planet-info {
      font-size: 10px;
      margin-top: 5px;
      opacity: 0.8;
    }

    .input-section {
      margin: 30px 0;
      background: rgba(255,255,255,0.1);
      padding: 30px;
      border-radius: 15px;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    .input-group {
      margin: 20px 0;
      text-align: left;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-size: 1.1em;
    }

    input {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      box-sizing: border-box;
    }

    button {
      width: 100%;
      padding: 15px;
      font-size: 18px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      background: linear-gradient(45deg, #ff6b6b, #ee5a24);
      color: white;
      margin-top: 20px;
      transition: transform 0.2s;
    }

    button:hover {
      transform: translateY(-2px);
    }

    button:disabled {
      background: #7f8c8d;
      cursor: not-allowed;
      transform: none;
    }

    .result {
      margin-top: 30px;
      padding: 20px;
      background: rgba(255,255,255,0.2);
      border-radius: 10px;
      font-size: 1.2em;
    }

    .error {
      color: #ff6b6b;
      background: rgba(255,107,107,0.2);
    }

    .success {
      color: #2ecc71;
      background: rgba(46,204,113,0.2);
    }

    .loading {
      color: #f39c12;
    }

    .selected-planet {
      margin: 20px 0;
      font-size: 1.2em;
      color: #ffd700;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>üåç Planetary Force Calculator</h1>
  <div class="formula">F = ma</div>
  <p>Select a planet and enter mass to calculate gravitational force</p>

  <div class="planets-grid">
    <div class="planet-container">
      <div class="planet earth" onclick="selectPlanet('Earth', 9.8)">Earth</div>
      <div class="planet-info">9.8 m/s¬≤</div>
    </div>
    <div class="planet-container">
      <div class="planet moon" onclick="selectPlanet('Moon', 1.62)">Moon</div>
      <div class="planet-info">1.62 m/s¬≤</div>
    </div>
    <div class="planet-container">
      <div class="planet mars" onclick="selectPlanet('Mars', 3.71)">Mars</div>
      <div class="planet-info">3.71 m/s¬≤</div>
    </div>
    <div class="planet-container">
      <div class="planet jupiter" onclick="selectPlanet('Jupiter', 24.79)">Jupiter</div>
      <div class="planet-info">24.79 m/s¬≤</div>
    </div>
    <div class="planet-container">
      <div class="planet venus" onclick="selectPlanet('Venus', 8.87)">Venus</div>
      <div class="planet-info">8.87 m/s¬≤</div>
    </div>
    <div class="planet-container">
      <div class="planet saturn" onclick="selectPlanet('Saturn', 10.44)">Saturn</div>
      <div class="planet-info">10.44 m/s¬≤</div>
    </div>
    <div class="planet-container">
      <div class="planet mercury" onclick="selectPlanet('Mercury', 3.7)">Mercury</div>
      <div class="planet-info">3.7 m/s¬≤</div>
    </div>
    <div class="planet-container">
      <div class="planet neptune" onclick="selectPlanet('Neptune', 11.15)">Neptune</div>
      <div class="planet-info">11.15 m/s¬≤</div>
    </div>
  </div>

  <div class="input-section">
    <div class="selected-planet" id="selectedPlanet">Select a planet above</div>
    
    <div class="input-group">
      <label for="mass">Mass (kg):</label>
      <input type="number" id="mass" placeholder="Enter mass in kilograms" min="0.01" step="0.01" />
    </div>

    <button id="calculateBtn" onclick="calculateForce()" disabled>Calculate Force</button>

    <div class="result" id="result" style="display: none;"></div>
  </div>
</div>

<script>
  let selectedPlanet = null;
  let selectedAcceleration = null;
  
  const API_BASE_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' 
    ? 'http://127.0.0.1:5000' 
    : '';

  function selectPlanet(planet, acceleration) {
    // Remove previous selection
    document.querySelectorAll('.planet').forEach(p => p.classList.remove('selected'));
    
    // Add selection to clicked planet
    event.target.classList.add('selected');
    
    selectedPlanet = planet;
    selectedAcceleration = acceleration;
    
    document.getElementById('selectedPlanet').innerHTML = `
      Selected: <strong>${planet}</strong> (g = ${acceleration} m/s¬≤)
    `;
    document.getElementById('calculateBtn').disabled = false;
    document.getElementById('result').style.display = 'none';
    document.getElementById('mass').focus();
  }

  function showResult(message, isError = false) {
    const resultDiv = document.getElementById('result');
    resultDiv.style.display = 'block';
    resultDiv.className = `result ${isError ? 'error' : 'success'}`;
    resultDiv.innerHTML = message;
  }

  function showLoading() {
    const resultDiv = document.getElementById('result');
    resultDiv.style.display = 'block';
    resultDiv.className = 'result loading';
    resultDiv.innerHTML = '‚è≥ Calculating...';
    document.getElementById('calculateBtn').disabled = true;
  }

  function hideLoading() {
    document.getElementById('calculateBtn').disabled = selectedPlanet === null;
  }

  function calculateForce() {
    if (!selectedPlanet) {
      showResult('‚ùå Please select a planet first', true);
      return;
    }

    const massInput = document.getElementById('mass');
    const mass = parseFloat(massInput.value);

    // Validate inputs
    if (!massInput.value.trim()) {
      showResult('‚ùå Please enter a mass value', true);
      return;
    }

    if (isNaN(mass)) {
      showResult('‚ùå Please enter a valid number', true);
      return;
    }

    if (mass <= 0) {
      showResult('‚ùå Mass must be greater than zero', true);
      return;
    }

    showLoading();

    fetch(`${API_BASE_URL}/calculate`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ 
        mass: mass, 
        planet: selectedPlanet 
      })
    })
    .then(response => {
      if (!response.ok) {
        return response.json().then(err => Promise.reject(err));
      }
      return response.json();
    })
    .then(data => {
      hideLoading();
      
      if (data.error) {
        showResult(`‚ùå ${data.error}`, true);
      return;
      }

      showResult(`
        <div style="font-size: 1.4em; margin-bottom: 15px;">
          <strong>Force = ${data.force} N</strong>
        </div>
        <div style="font-size: 1em; opacity: 0.9; margin-bottom: 10px;">
          On <strong>${data.planet}</strong>
        </div>
        <div style="font-size: 0.9em; opacity: 0.8;">
          Mass: ${data.mass} kg<br>
          Gravity: ${data.acceleration} m/s¬≤<br>
          Formula: ${data.formula}
        </div>
      `);
    })
    .catch(error => {
      hideLoading();
      console.error('Error:', error);
      
      if (error.error) {
        showResult(`‚ùå ${error.error}`, true);
      } else {
        showResult('‚ùå Unable to connect to server. Please try again.', true);
      }
    });
  }

  // Allow Enter key to calculate
  document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('mass').addEventListener('keypress', function(e) {
      if (e.key === 'Enter' && selectedPlanet) {
        calculateForce();
      }
    });
  });
</script>

</body>
</html>